---
id: legacy-map-installation-guide
title: Karten-Installationsanleitung (klassisch)
---

Bevor der Map Manager entwickelt wurde nutzen Karten die `serve` Methode. Das war komplexer und von
Karte zu Karte unterschiedlich, aber wir können alle wichtigen Dateien einfach extrahieren und für
die Benutzung mit dem Mod Manager umwandeln.

## Schritt 1 - Den Mod Manager installieren {#installing-the-map-manager}

Lade die aktuelle Version des Map Managers auf
https://github.com/Subway-Builder-Modded/subwaybuilder-patcher/releases herunter. Klicke dafür auf
die Version, die zu Deinem Betriebssystem passt.

<img width="1000" alt="image" src="/images/map-manager-download.png" />

:::warning Für Windows benötigst Du die `.exe` Datei. Für Linux nutzt Du die `.zip` Datei. Für MacOS
nimmst Du die `arm64.dmg` Datei, wenn Dein Mac einen Apple Silicon Prozessor hat (z.B. M1, M2, M3,
etc.) und die `x64.dmg` Datei, wenn dein Mac einen Intel Prozessor hat. Als Faustregel: Macs nach
ca. 2021 benutzen Apple Silicon, ältere benutzen Intel Prozessoren. Überprüfe trotzdem Dein Gerät,
da es einige Ausnahmen gibt. :::

:::warning Auf MacOS wird der .dmg Installer wahrscheinlich in die Quarantäne versetzt. Um den
Installer auszuführen öffne ein Terminal in dem Ordner, in dem der Installer liegt, und führe den
Befehl `xattr -d com.apple.quarantine {INSTALLER_DATEINAME}` aus. Beispiel: Wenn Du Version 0.2.7
für einen ARM Mac heruntergeladen hast, lautet Dein Befehl
`xattr -d com.apple.quarantine Subway.Builder.Map.Manager-0.2.7-arm64.dmg`.

Außerdem kann der Library-Order, der den metro-maker4 Ordner beinhaltet, standardmäßig versteckt
sein. Öffne dann den Benutzerordner im Finder und wähle Darstellung -> Darstellungsoptionen ->
Library-Ordner einblenden. :::

Danach installierst Du den Manager wie jedes andere Programm. Sobald der Installer fertig ist, öffne
den Map Manager und schließe die Einrichtung ab, indem du den Installationsordner des Spiels und den
`metro-maker4` Ordner auswählst. Danach kannst du ZIP, Installer und sämtliche andere Dateien, die
Du heruntergeladen hast, löschen.

<img width="1200" alt="image" src="/images/map-manager-welcome.png" />

## Schritt 2 - Die Dateien extrahieren {#extracting-the-files}

Jetzt müssen wir die benötigten Dateien aus der Karte extrahieren, die Du heruntergeladen hast. Wir
werden insgesamt sechs Dateien benötigen:

- `XXX.pmtiles` (`XXX` ist der Städtecode; z.B. `MIA` für Miami)
- `demand_data.json`
- `buildings_index.json`
- `roads.geojson`
- `runways_taxiways.geojson`
- `config.json`

Die erste ist einfach. In der Map, die Du heruntergeladen hast, such einfach nach der XXX.pmtiles
Datei. Sie liegt irgendwo im Verzeichnis, entweder direkt in der obersten Ebene oder in einem der
Ordner. Erstelle fürs Erste einen temporären Arbeitsordner, in dem Du die Dateien zwischenspeichern
kannst.

Die nächsten vier benötigen etwas mehr Arbeit. Du solltest sie alle relativ schnell finden können,
allerdings liegen Sie nur komprimiert vor (mit der Dateiendung `.gz`). Du musst sie also als Archiv
entpacken.

:::tip Auf Windows und Linux kannst du [7-Zip](https://www.7-zip.org/download.html) zum Extrahieren
von `.gz` Archiven benutzen. MacOS unterstützt nativ das entpacken von gzip-Archiven, Du kannst sie
also mit einem Rechtsklick extrahieren. :::

Darin solltest du eine einzige Datei finden. Im `demand_data.json.gz` Archiv liegt
`demand_data.json` genauso jeweils für die anderen drei Archive. Extrahiere alle vier dieser Dateien
in den temporären Arbeitsordner. In machen Archiven können Duplikate liegen. Es ist egal, welche Du
nimmst, da alle gleich sind.

Die letzte Datei die wir brauchen ist die `config.json`. Diese ist am kompliziertesten. Wir
benötigen dafür ein paar Dinge. Als erstes erstellst Du eine neue Datei und nennst sie
`config.json`.

:::tip Stell sicher, dass es sich um eine `.json` Datei handelt. Wenn auf deinem Betriebssystem die
Dateiendungen nicht angezeigt werden, kannst Du mit einer schnellen Google-Suche herausfinden, wie
du sie aktivierst. Der Dateityp muss als `JSON Datei` angezeigt werden. :::

In die `config.json`kopierst Du diese Vorlage:

```
{
  "name": "Boise",
  "code": "BOI",
  "description": "Build a rapid transit network for one of America`s fastest growing cities.",
  "population": 329866,
  "initialViewState": {
    "zoom": 13,
    "latitude": 43.617499,
    "longitude": -116.245394,
    "bearing": 0
  },
  "creator": "muffintime",
  "version": "2.1.0"
}
```

Wir müssen jetzt diese Daten so anpassen, dass sie zur Karte passen. Im Verzeichnis der
heruntergeladenen Karte sollte eine`.js` Datei liegen, meistens `index.js`. In dieser Datei findest
Du etwas sehr ähnliches zu unserer Vorlage.

<img width="1097" alt="image" src="/images/city-data.png" />

> Das ist der Inhalt der `index.js` Datei aus dem Canadian Cities Map Pack.

:::tip Wenn Dein Verzeichnis mehrere `.js` Dateien beinhaltet, überprüfe alle. Eine davon hat die
Daten, die wir brauchen. :::

Aus dieser Datei bekommen wir:

- `name`
- `code`
- `description`
- `population`
- `intialViewState` (und die dazugehörigen Argumente)

:::note Wenn Deine Datei kein `initialViewState` enthält, kannst Du einfach 12 oder 13 für `zoom`
und 0 für `bearing` einsetzen. Für `latitude` und `longitude` kannst Du eine Nummer wählen, die sich
innerhalb der bbox Koordinaten befindet ( `latitude` korrespondiert zur **2nd** und **4th** Zahl und
`longitude` korrespondiert zur **1st** und **3rd**.) Im Toronto Beispiel, das oben gezeigt wird,
könnten wir 44.0 und -79.0 für `latitude` und `longitude` wählen. :::

Die letzten beiden Dinge die wir brauchen sind `creator` und `version` die Du beide in
`manifest.json` finden kannst, das jedes Projekt enthält. Wenn Du alles für deine config.json
zusammen hast stelle sicher, dass Du alle sechs Dateien hast. Dann kannst Du mit dem nächsten
Schritt fortfahren.

:::important Auch wenn es nicht verpflichtend ist, gib bitte den `creator` an, wenn Du die portierte
Karte veröffentlichen willst. So wird sichergestellt, dass die ursprünglichen Autoren Anerkennung
für ihre Karten erhalten. :::

## Schritt 3 - Die Dateien verpacken {#zipping-the-files}

Jetzt wo wir alle sechs Dateien beisammen haben, müssen wir sie in einer `.zip` verpacken. Das kann
auf Windows und Linux ganz einfach nativ oder mit [7-Zip](https://www.7-zip.org/download.html)
geschehen, auf MacOS durch auswählen von `Komprimieren`. Wenn Du die `.zip` Datei hast, bist Du mit
dem Umwandeln der Karte fertig und musst sie nur noch ins Spiel importieren.

## Schritt 4 - Die Karte hinzufügen {#adding-the-map}

Um eine Karte zu installieren klickst Du einfach auf den `ADD A MAP` Button und importierst die
ZIP-Datei, welche die Karte beinhaltet. Wenn der Import abgeschlossen ist kannst Du den Namen der
Karte, des Erstellers und die Verision in der Liste sehen.

<img width="1200" alt="image" src="/images/map-manager-home.png" />

## Schritt 5 - Subway Builder starten {#launching-subway-builder}

Wenn Du alle Deine Karten hinzugefügt hast kannst Du das Spiel über `START GAME` starten. So wirst
Du ab jetzt immer das Spiel starten. In den Einstellungen des Spiels erscheinen Deine Karten unter
dem `CUSTOM` Tab und können sofort bespielt werden!

:::important Aufgrund der Art, wie das Spiel aktuell funktioniet, musst Du es jedes mal über den Map
Manager starten, wenn Du eine von Deinen benutzerdefinierten Karten spielen willst. Wenn Du das
nicht tust werden Dir Gebäude und Gewässer im Spiel nicht angezeigt. :::
