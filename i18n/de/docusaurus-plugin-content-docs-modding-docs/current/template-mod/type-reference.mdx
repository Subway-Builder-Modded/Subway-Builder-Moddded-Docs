---
id: type-reference
title: Typenreference
---

Die Vorlage enthält vollständige TypeScript Typendefinitionen für die Subway Builder Modding API v1.0.0.
So sind sie organisiert:

## Dateistruktur {#file-structure}

Typen werden über mehrere `.d.ts` Dateien in `src/types/` aufgeteilt, gruppiert nach API-Namespace:

| Datei                    | Was sie beinhaltet                                                                              |
| ------------------------ | ----------------------------------------------------------------------------------------------- |
| `api.d.ts`               | Das `ModdingAPI` Interface, hält alles zusammen                                                 |
| `index.d.ts`             | Re-exportiert alle Typen + deklariert `window.SubwayBuilderAPI`                                 |
| `core.d.ts`              | Primitive: `Coordinate`, `BoundingBox`, `GameSpeed`, `BuildType`, `ElevationType`               |
| `game-state.d.ts`        | Entitytypen: `Station`, `Track`, `Train`, `Route`, `DemandData`, Passagiertypen                 |
| `game-constants.d.ts`    | `GameConstants`, `ConstructionCosts`, `HighSlopeSpeedMultiplier`                                |
| `game-actions.d.ts`      | `Bond`, `BondType`, `BondResult`                                                                |
| ~~`build.d.ts`~~         | ~~Build-Automation: `BlueprintTrackInput`, `PlaceBlueprintResult`, `CreateRouteOptions`, etc.~~ |
| `ui.d.ts`                | UI-System: `UIPlacement`, Button/Toggle/Slider/Panel Typenoptionen                              |
| `cities.d.ts`            | `City`, `CityConfig`, `CityTab`, `CityDataFiles`, `ViewState`                                   |
| `trains.d.ts`            | `TrainTypeConfig`, `TrainTypeStats`                                                             |
| `stations.d.ts`          | `StationTypeConfig`                                                                             |
| `map.d.ts`               | Kartentypen: `MapSource`, `MapLayer`, `TileURLOverride`, `RoutingServiceOverride`               |
| `career.d.ts`            | `MissionConfig`, `StarConfig`, `CareerMetrics`, `CareerOperators`                               |
| `content-templates.d.ts` | `NewspaperTemplate`, `TweetTemplate`                                                            |
| `pop-timing.d.ts`        | `CommuteTimeRange`                                                                              |
| ~~`storage.d.ts`~~       | ~~Modspeicher: `set`, `get`, `delete`, und `keys` Methoden für dauerhaften Modspeicher~~        |
| `i18n.d.ts`              | `I18nAPI`                                                                                       |
| `utils.d.ts`             | `RechartsComponents`                                                                            |
| `schemas.d.ts`           | `GameSchemas` (Zod validation schemas)                                                          |
| `electron.d.ts`          | `ElectronAPI`, `ElectronAPIExtended`                                                            |
| `manifest.d.ts`          | `ModManifest`                                                                                   |

:::warning

Die Build/Speicher API-Typen werden in der offiziellen API-Dokumentation aufgeführt,
sind aber aktuell in der Laufzeit nicht nutzbar.

:::

## Wie es funktioniert {#how-it-works}

`index.d.ts` re-exportiert alles und deklariert das globale `Window` Interface:

```ts
declare global {
  interface Window {
    SubwayBuilderAPI: ModdingAPI;
    electron?: ElectronAPI;
    electronAPI?: ElectronAPIExtended;
  }
}
```

Dadurch erhältst du komplette Autovervollständigung, wenn du `window.SubwayBuilderAPI.` in deinen Editor schreibst.

## Wichtige Typen auf einen Blick {#key-types-at-a-glance}

### Spiel-Entities {#game-entities}

```ts
interface Station {
  id: string;
  name: string;
  coords: [number, number]; // [longitude, latitude]
  trackIds: string[];
  routeIds: string[];
  nearbyStations: NearbyStation[];
  buildType: string;
  createdAt: number;
  // ...
}

interface Track {
  id: string;
  coords: [number, number][]; // Start and end points
  trackType: string; // 'heavy-metro', 'light-metro', etc.
  startElevation: number;
  endElevation: number;
  length: number;
  // ...
}

interface Route {
  id: string;
  bullet: string; // Display label ('A', '1', etc.)
  color: string; // Hex color
  stations: RouteStation[];
  trainIds: string[];
  // ...
}

interface Train {
  id: string;
  routeId: string;
  position: Coordinate;
  speed: number;
  // ...
}
```

### Kern-Primitive {#core-primitives}

```ts
type Coordinate = [number, number]; // [longitude, latitude]
type BoundingBox = [number, number, number, number]; // [minLng, minLat, maxLng, maxLat]
type GameSpeed = 'slow' | 'normal' | 'fast' | 'ultrafast';
type BuildType = 'blueprint' | 'built';
```

### UI Typen {#ui-types}

```ts
type UIPlacement =
  | 'settings-menu'
  | 'escape-menu'
  | 'escape-menu-buttons'
  | 'main-menu'
  | 'bottom-bar'
  | 'top-bar'
  | 'debug-panel'
  | 'menu-items'
  | 'pause-menu'
  | 'debug';

type NotificationType = 'success' | 'error' | 'info' | 'warning';
```

## Typen erweitern {#extending-types}

Wenn du die API-Typen erweitern musst (z.B. mit Feldern, die du in der Laufzeit entdeckt hast) kannst
du TypeScript-Deklarationen in deiner eigenen  `.d.ts` Datei zusammenführen:

```ts
// src/types/my-extensions.d.ts
declare module './game-state' {
  interface Station {
    myCustomField?: string;
  }
}
```

## Offizielle Dokumentation {#official-documentation}

Die aktuellste API-Referenz findest du in den 
[offiziellen Subway Builder modding docs](https://www.subwaybuilder.com/docs/v1.0.0).
