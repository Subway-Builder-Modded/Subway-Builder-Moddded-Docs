---
id: getting-started
title: Erste Schritte
---

Dieser Leitfaden wird dich durch das Setup deiner ersten Subway Builder Mod anhand der TypeScript-Vorlage
der Community begleiten.

:::note Vorraussetzungen

Bevor du loslegst solltest du ein Grundverständnis von **JavaScript** oder **TypeScript** besitzen.
Wenn du noch nie in JS/TS geschrieben hast empfehlen wir dir, ein Einsteiger-Tutorial zu durchlaufen.
Die Modding-API ist relativ einfach, aber du musst Variablen, Funktionen und Syntax verstehen können.

Außerdem benötigst du:

- [Node.js](https://nodejs.org/) v22 oder neuer
- [pnpm](https://pnpm.io/) Package Manager (`npm install -g pnpm`)
- [Subway Builder](https://subwaybuilder.com) v1.1.0 oder neuer
- Einen Code-Editor (wir empfehlen [VS Code](https://code.visualstudio.com/))

:::

## Schritt 1 - Die Vorlage klonen {#clone-the-template}

```bash
git clone https://github.com/Subway-Builder-Modded/SubwayBuilderTemplateMod.git meine-mod
cd meine-mod
```

## Schritt 2 - Abhängigkeiten installieren {#install-dependencies}

```bash
pnpm install
```

Dadurch wird die Toolchain installiert (Vite/Rolldown, TypeScript, etc.). Auf die APIs des Spiel wird 
in der Laufzeit zugegriffen, dafür muss kein SDK installiert werden.

## Schritt 3 - Deine Mod konfigurieren {#configure-your-mod}

Bearbeite `manifest.json` mit der Identität deiner Mod:

```json
{
  "id": "com.deinname.deinemod",
  "name": "Meine tolle Mod",
  "description": "Macht was cooles",
  "version": "1.0.0",
  "author": { "name": "Dein Name" },
  "main": "index.js"
}
```

Die `id` sollte ein einzigartiger rever-domain-Identifikator sein. Das `main` Feld sollte immer
`"index.js"` lauten, dadurch werden die Ausgaben kompiliert.

## Schritt 4 - Kompilieren {#build}

```bash
pnpm build
```

Dadurch wird dein TypeScript + React Code in einer einzelnen `dist/index.js` Datei kompiliert und
`manifest.json` nach `dist/` kopiert.

## Schritt 5 - Verbindung zum Spiel {#link-to-the-game}

```bash
pnpm dev:link
```

Dadurch wird ein Symlink von `dist/` in das Spielverzeichnis erstellt. Der Pfad zum Modverzeichnis variiert
je nach Betriebssystem:

| OS          | Pfad                                               |
| ----------- | -------------------------------------------------- |
| **macOS**   | `~/Library/Application Support/metro-maker4/mods/` |
| **Windows** | `%APPDATA%\metro-maker4\mods\`                     |
| **Linux**   | `~/.config/metro-maker4/mods/`                     |

Durch den Symlink bezieht sich das Spiel jedes mal auf die neueste Version deines Codes, ohne dass du
Dateien kopieren musst.

:::tip

Auf Windows musst du das Terminal eventuell als Administrator ausführen, damit der Symlink erstellt wird.

:::

## Schritt 6 - Deine Mod aktivieren {#enable-your-mod}

1. Starte Subway Builder
2. Gehe zu **Settings > Mods**
3. Schalte deine Mod **an**
4. Starte das Spiel neu (oder öffne eine Karte)

Du solltest die Log-Nachrichten deiner Mod in der Entwicklerkonsole des Spiels sehen.

## Schritt 7 - Entwicklingsablauf {#development-workflow}

Für aktive Entwicklung nutze den `dev` Befehl, der nach Dateiänderungen ausschau hält und das Spiel
mit Log-Ausgabe startet:

```bash
pnpm dev
```

Dadurch werden zwei Prozesse gleichzeitig gestartet:

- **Vite watcher** — Rekompiliert nach jedem Speichervorgang
- **Game launcher** — Startet Subway Builder mit Log-Ausgabe in `debug/latest.log`

Nachdem du etwas geändert hast, lädst du die mods ingame mit **Strg+Shift+R** (oder **Cmd+Shift+R** auf Mac)
neu und siehst die Veränderungen, ohne das Spiel neustarten zu müssen.

## Schritt 8 - Verlinkung nach Fertigstellung {#unlink-when-done}

Um den Symlink zu entfernen:

```bash
pnpm dev:unlink
```

## Verfügbare Scripte {#available-scripts}

| Befehl            | Beschreibung                             |
| ----------------- | ---------------------------------------- |
| `pnpm build`      | Kompiliert Mod nach `dist/`              |
| `pnpm dev`        | Watch-Mode + Spielstart mit Logging      |
| `pnpm dev:link`   | Symlink `dist/` in Mod-Ordner des SPiels |
| `pnpm dev:unlink` | Entfernt Symlink                         |
| `pnpm typecheck`  | Startet TypeScript Rechtschreibprüfung   |
