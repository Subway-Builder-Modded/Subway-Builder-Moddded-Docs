"use strict";(self.webpackChunksubway_builder_modded_docs=self.webpackChunksubway_builder_modded_docs||[]).push([[5578],{8106(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"railyard/publishing-map-packs","title":"Publishing Map Packs","description":"If you are a map creator and have made multiple maps or are planning to, you can host them all on the same repository via a custom updates.json file. In this file, you can place all the necessary information required for Railyard to fetch updates for your map.","source":"@site/modding-docs/railyard/publishing-map-packs.mdx","sourceDirName":"railyard","slug":"/railyard/publishing-map-packs","permalink":"/modding-docs/railyard/publishing-map-packs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"publishing-map-packs","title":"Publishing Map Packs"},"sidebar":"docs","previous":{"title":"Publishing Projects","permalink":"/modding-docs/railyard/publishing-projects"}}');var s=t(6070),o=t(1753);const i={id:"publishing-map-packs",title:"Publishing Map Packs"},r=void 0,d={},l=[{value:"Step 1 - Hosting the File",id:"hosting-the-file",level:2},{value:"Step 2 - Setting Up the Updates Files",id:"setting-up-the-updates-files",level:2},{value:"Custom Update Schema Template",id:"custom-update-schema-template",level:3},{value:"Step 3 - Submitting to the Registry",id:"submitting-to-the-registry",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["If you are a map creator and have made multiple maps or are planning to, you can host them all on the same repository via a custom ",(0,s.jsx)(n.code,{children:"updates.json"})," file. In this file, you can place all the necessary information required for Railyard to fetch updates for your map."]}),"\n",(0,s.jsx)(n.h2,{id:"hosting-the-file",children:"Step 1 - Hosting the File"}),"\n",(0,s.jsx)(n.p,{children:"In order to make a submission to the Railyard registry, you need to first upload the source code and release to GitHub and link it to Railyard. To do this, create a new GitHub repository. The actual contents can contain the source code for your map/mod."}),"\n",(0,s.jsxs)(n.p,{children:["Once you have the repository set up, create a new release. In this release, place ",(0,s.jsx)(n.strong,{children:"ALL"})," the ZIP files containing your maps/mods (as different release assets). They should contain ",(0,s.jsx)(n.strong,{children:"exactly"})," files that are used for the map/mod, meaning no nested subfolders. For maps, use the ZIP that you made using the ",(0,s.jsx)(n.a,{href:"/modding-docs/creating-maps/making-custom-maps",children:"custom map creation guide"}),". For mods, the ZIP should contain everything that will go in the ",(0,s.jsx)(n.code,{children:"metro-maker4/mods/<your_mod>"})," folder."]}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-the-updates-files",children:"Step 2 - Setting Up the Updates Files"}),"\n",(0,s.jsxs)(n.p,{children:["The first step is to set up our ",(0,s.jsx)(n.code,{children:"update.json"})," files. You will need several of these, one for every map."]}),"\n",(0,s.jsxs)(n.p,{children:["Create a new folder and call it something like ",(0,s.jsx)(n.code,{children:"releases"})," or ",(0,s.jsx)(n.code,{children:"railyard"}),". This is where your ",(0,s.jsx)(n.code,{children:"update.json"})," files will be located. Create a new file for every map and call it ",(0,s.jsx)(n.code,{children:"XXX.json"}),", where ",(0,s.jsx)(n.code,{children:"XXX"})," is your map's city code. Inside each file, you can place the custom update schema found below and update it to match your mod."]}),"\n",(0,s.jsx)(n.h3,{id:"custom-update-schema-template",children:"Custom Update Schema Template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "schema_version": 1,\n  "versions": [\n    {\n      "version": "1.0.0",\n      "game_version": ">=1.0.0",\n      "date": "2026-02-24",\n      "changelog": "Realistic demand data using official French government data (INSEE, SIRENE, SNCF).",\n      "download": "https://github.com/flopinou/FrancePack/releases/download/1.0.0/Paris_MM.zip",\n      "sha256": "<your asset\'s sha256>"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsxs)(n.p,{children:["You can find the ",(0,s.jsx)(n.code,{children:"sha256"})," directly on the releases page."]}),(0,s.jsx)("img",{width:"1000",alt:"image",src:"/images/github-assets-sha256.png"})]}),"\n",(0,s.jsxs)(n.p,{children:["To update your mod, simply add a new field in the ",(0,s.jsx)(n.code,{children:"versions"})," array and add your update information there. An example can be seen below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "schema_version": 1,\n  "versions": [\n    {\n      "version": "1.0.0",\n      "game_version": ">=1.0.0",\n      "date": "2026-02-24",\n      "changelog": "Realistic demand data using official French government data (INSEE, SIRENE, SNCF).",\n      "download": "https://github.com/flopinou/FrancePack/releases/download/1.0.0/Paris_MM.zip",\n      "sha256": "<your asset\'s sha256>"\n    },\n    {\n      "version": "1.1.0",\n      "game_version": ">=1.0.0",\n      "date": "2026-02-28",\n      "changelog": "Updated demand data from 2022 data to 2023 data.",\n      "download": "https://github.com/flopinou/FrancePack/releases/download/1.1.0/Paris_MM.zip",\n      "sha256": "<your asset\'s sha256>"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Now that you have your ",(0,s.jsx)(n.code,{children:"update.json"})," files set up, you can move on to actually creating the submission ticket on the Railyard registry."]}),"\n",(0,s.jsx)(n.h2,{id:"submitting-to-the-registry",children:"Step 3 - Submitting to the Registry"}),"\n",(0,s.jsxs)(n.p,{children:["Now that your files are hosted on GitHub, you are ready to make a submission to the registry. Go to the ",(0,s.jsx)(n.a,{href:"https://github.com/Subway-Builder-Modded/The-Railyard/issues",children:"registry's issues page"}),' and click on "',(0,s.jsx)(n.code,{children:"New Issue"}),'". Here, you can create your submission, which will then be reviewed by a Railyard maintainer. Once you have the issue selection screen open, select "',(0,s.jsx)(n.code,{children:"Publish New Map"}),'".']}),"\n",(0,s.jsx)(n.admonition,{type:"important",children:(0,s.jsxs)(n.p,{children:['For map packs, you will be utilizing "',(0,s.jsx)(n.code,{children:"Custom URL"}),'" as your update type. You can ignore "',(0,s.jsx)(n.code,{children:"GitHub Releases"}),'" in the update type drop-down menu and the "',(0,s.jsx)(n.code,{children:"GitHub Repository"}),'" input field.']})}),"\n",(0,s.jsxs)(n.p,{children:['Once you select "',(0,s.jsx)(n.code,{children:"Publish New Map"}),'", a popup window will appear asking you to input some information about your map. The information should be inputted as follows:']}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Map ID:       A unique identifier for your map in kebab-case. This is the permanent directory name in the\n              registry and cannot be changed later. Must be unique across all maps, so if another map of the\n              same city already exists, use a distinct ID (e.g. london-detailed, london-mini). Only lowercase\n              letters, numbers, and hyphens allowed.\n\nCity Name:    The human-readable city name shown in Railyard. This is the title of the map that people will see when\n              downloading it.\n\nCity Code:    2-4 letter IATA/ICAO-style city code used by the game internally. Must be uppercase letters/numbers.\n              Must not clash with vanilla city codes or other registered maps. Check existing maps before choosing\n              a code.\n\nCountry Code: ISO 3166-1 alpha-2 country code \u2014 two uppercase letters (e.g. US, GB, CA, DE, JP). Used to group maps\n              by country in Railyard. It is REQUIRED that you use ISO codes according to this list:\n              https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes.\n\nPopulation:   Approximate metropolitan area population. Number only, no commas or separators. Used for display and\n              sorting in Railyard and it doesn't need to be exact.\n\nDescription:  A short description of what your map does. This is shown in the map browser. Mention data quality,\n              notable features, or coverage area.\n\nTags:         Select all tags that apply to your map. These help users find your map in the browser.\n\nData Source:  Enter the data source used to generate the demand data for your map. The source name\n              should use common abbreviations like LODES/INSEE/ONS etc. (optional, defaults to OSM)\n\nSource URL:   URL to your map's source code repository or download page.\n\nUpdate Type:  The method used by Railyard to fetch updates for your map. Most maps should use GitHub Releases. Use\n              Custom URL only if you host your own update.json file.\n\nGitHub Repo:  Required ONLY if using GitHub Releases. The owner/repo path (e.g. username/sb-raleigh). The repo must\n              exist, have at least one release, and the latest release must contain a .zip asset. Leave blank if you\n              are using Custom URL.\n\nCustom URL:   Required ONLY if you selected Custom URL. The full URL to your self-hosted update.json file. The file\n              must follow the Railyard update.json schema. Leave blank if using GitHub Releases. The update.json can be\n              found at: https://subwaybuildermodded.com/modding-docs/railyard/publishing-map-packs#custom-update-schema-template.\n\nGallery:      Drag and drop screenshots here, or paste image URLs (one per line). These will be displayed in the map\n              browser. At least one image is recommended. (optional)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.code,{children:"Custom URL"}),", place a link to your raw ",(0,s.jsx)(n.code,{children:"updates.json"})," file. You can paste the raw link directly copied from your repository, however, it is instead recommended to deploy it to GitHub pages and paste that link there. This can help some users who may be rate limited. To deploy to GitHub pages, create a new file located at ",(0,s.jsx)(n.code,{children:".github/workflows/deploy-releases.yml"}),". Paste the following into the file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"name: Deploy update.json to GitHub Pages\n\non:\n  push:\n    branches: [main]\n    paths: [releases/**]\n  workflow_dispatch:\n\npermissions:\n  pages: write\n  id-token: write\n\nconcurrency:\n  group: pages\n  cancel-in-progress: true\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    environment:\n      name: github-pages\n      url: ${{ steps.deployment.outputs.page_url }}\n    steps:\n      - uses: actions/checkout@v4\n\n      - uses: actions/upload-pages-artifact@v3\n        with:\n          path: releases\n\n      - id: deployment\n        uses: actions/deploy-pages@v4\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This will automatically deploy your ",(0,s.jsx)(n.code,{children:"update.json"})," files to GitHub Pages. Once you do this, put the direct link to your ",(0,s.jsx)(n.code,{children:"updates.json"})," file for the corresponding map in the ",(0,s.jsx)(n.code,{children:"Custom URL"})," field. Now every time you update your map (and our ",(0,s.jsx)(n.code,{children:"updates.json"})," file), it will automatically deploy the latest ",(0,s.jsx)(n.code,{children:"updates.json"})," file for Railyard to use."]}),"\n",(0,s.jsxs)(n.p,{children:["Once you deploy your ",(0,s.jsx)(n.code,{children:"update.json"})," files and fill out the submission ticket, a Pull Request should automatically be created. A Railyard maintainer will review it and it will be automatically submitted once they do. After that, it will be available on Railyard for everyone to download."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If you input a field incorrectly, the vaildation wil fail. If this happens, you can edit the message above automatically created by the fields you set earlier. Once you edit that message, send a new comment simply commenting ",(0,s.jsx)(n.code,{children:"revalidate"}),"."]})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1753(e,n,t){t.d(n,{R:()=>i,x:()=>r});var a=t(758);const s={},o=a.createContext(s);function i(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);